<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AstroCalc - Science Olympiad Astronomy Calculator</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üåå AstroCalc</h1>
            <p class="subtitle">Science Olympiad Astronomy Formula Calculator</p>
        </header>

        <!-- Formula Selection Screen -->
        <div id="formula-selection" class="screen active">
            <div class="main-tab-container">
                <div class="main-tabs">
                    <button class="main-tab-btn active" data-main-tab="formulas">Formulas</button>
                    <button class="main-tab-btn" data-main-tab="classification">Classification</button>
                    <button class="main-tab-btn" data-main-tab="desmos">Desmos</button>
                </div>
            </div>
            
            <!-- Formulas Tab -->
            <div id="main-formulas-tab" class="main-tab-content active">
                <div id="formula-list" class="formula-list">
                    <!-- Formulas will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Classification Tab (Main Page) -->
            <div id="main-classification-tab" class="main-tab-content">
                <div class="classification-container">
                    <div class="classification-main">
                        <div class="classification-header">
                            <h3>Stellar Classification Tool</h3>
                            <p class="classification-subtitle">Enter stellar parameters to determine spectral classification</p>
                        </div>
                        <div class="classification-inputs">
                            <div class="input-group">
                                <label for="main-temperature-input">Temperature (Kelvin)</label>
                                <input type="number" id="main-temperature-input" placeholder="e.g., 23939" min="0" step="1">
                            </div>
                            <div class="input-group">
                                <label for="main-luminosity-class">Luminosity Class / White Dwarf Type</label>
                                <select id="main-luminosity-class">
                                    <option value="">Select classification type</option>
                                    <optgroup label="Luminosity Classes">
                                        <option value="Ia">Ia - Bright Supergiant</option>
                                        <option value="Ib">Ib - Supergiant</option>
                                        <option value="II">II - Bright Giant</option>
                                        <option value="III">III - Giant</option>
                                        <option value="IV">IV - Subgiant</option>
                                        <option value="V">V - Main Sequence (Dwarf)</option>
                                    </optgroup>
                                    <optgroup label="White Dwarf Types">
                                        <option value="DA">DA - Hydrogen-rich</option>
                                        <option value="DB">DB - Helium-rich</option>
                                        <option value="DC">DC - Featureless</option>
                                        <option value="DO">DO - Ionized helium</option>
                                        <option value="DQ">DQ - Carbon features</option>
                                        <option value="DZ">DZ - Metal features</option>
                                        <option value="DX">DX - Unclear features</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div class="input-group checkbox-group">
                                <label>
                                    <input type="checkbox" id="main-protostar-checkbox">
                                    Is a protostar (YSO)
                                </label>
                            </div>
                            <button id="main-classify-btn" class="btn btn-primary">Classify Star</button>
                        </div>
                        <div id="main-classification-result" class="classification-result"></div>
                    </div>
                    <div class="classification-reference">
                        <h4>Classification Reference</h4>
                        <div class="reference-section">
                            <h5>Harvard Classes</h5>
                            <ul class="reference-list">
                                <li><strong>O:</strong> ‚â•33,000 K</li>
                                <li><strong>B:</strong> 10,000-33,000 K</li>
                                <li><strong>A:</strong> 7,500-10,000 K</li>
                                <li><strong>F:</strong> 6,000-7,500 K</li>
                                <li><strong>G:</strong> 5,200-6,000 K</li>
                                <li><strong>K:</strong> 3,700-5,200 K</li>
                                <li><strong>M:</strong> 2,400-3,700 K</li>
                                <li><strong>L:</strong> 1,300-2,400 K</li>
                                <li><strong>T:</strong> 700-1,300 K</li>
                                <li><strong>Y:</strong> &lt;700 K</li>
                            </ul>
                        </div>
                        <div class="reference-section">
                            <h5>White Dwarf Types</h5>
                            <ul class="reference-list">
                                <li><strong>DA:</strong> Hydrogen-rich</li>
                                <li><strong>DB:</strong> Helium-rich</li>
                                <li><strong>DC:</strong> Featureless</li>
                                <li><strong>DO:</strong> Ionized helium</li>
                                <li><strong>DQ:</strong> Carbon features</li>
                                <li><strong>DZ:</strong> Metal features</li>
                                <li><strong>DX:</strong> Unclear features</li>
                            </ul>
                        </div>
                        <div class="reference-section">
                            <h5>YSO Classes</h5>
                            <ul class="reference-list">
                                <li><strong>Class 0/I:</strong> Protostars</li>
                                <li><strong>Class II:</strong> Pre-main sequence</li>
                                <li><strong>Class III:</strong> Young stars</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Desmos Tab (Main Page) -->
            <div id="main-desmos-tab" class="main-tab-content">
                <div class="graph-container">
                    <div class="graph-header">
                        <h3>Desmos Graphing Calculator</h3>
                        <p class="graph-description">Full-featured interactive graphing calculator. Enter your own mathematical expressions to visualize functions, equations, and relationships.</p>
                    </div>
                    <div id="main-desmos-graph" class="desmos-graph-standalone"></div>
                    <div class="graph-controls">
                        <p class="graph-note">üí° <strong>Tip:</strong> Use the keypad and expression list to enter equations. Try typing expressions like <code>y = x^2</code>, <code>y = sin(x)</code>, or <code>x^2 + y^2 = 1</code>.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Input Screen -->
        <div id="input-screen" class="screen">
            <div class="screen-header">
                <button id="back-button" class="back-btn">‚Üê Back</button>
                <h2 id="formula-name"></h2>
            </div>
            <div class="tab-container">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="calculator">Calculator</button>
                    <button class="tab-btn" data-tab="graph">Graph</button>
                    <button class="tab-btn" data-tab="classification">Classification</button>
                </div>
            </div>
            
            <!-- Calculator Tab -->
            <div id="calculator-tab" class="tab-content active">
                <div class="formula-display">
                    <p id="formula-equation"></p>
                    <p id="formula-description" class="description"></p>
                </div>
                <div id="variables-container" class="variables-container">
                    <!-- Variable inputs will be populated by JavaScript -->
                </div>
                <div class="button-group">
                    <button id="calculate-btn" class="btn btn-primary">Calculate</button>
                    <button id="clear-btn" class="btn btn-secondary">Clear</button>
                </div>
                <div id="result-display" class="result-display"></div>
            </div>
            
            <!-- Graph Tab -->
            <div id="graph-tab" class="tab-content">
                <div class="graph-container">
                    <div class="graph-header">
                        <h3>Formula Visualization</h3>
                        <p class="graph-description">Graph shows how the unknown variable changes with respect to other variables. Enter values in the Calculator tab to see the graph update in real-time.</p>
                    </div>
                    <div id="desmos-graph" class="desmos-graph"></div>
                    <div class="graph-controls">
                        <p class="graph-note">üí° <strong>Tip:</strong> Leave one variable as "null" in the Calculator tab to see how it varies with the other variables.</p>
                    </div>
                </div>
            </div>
            
            <!-- Classification Tab -->
            <div id="classification-tab" class="tab-content">
                <div class="classification-container">
                    <div class="classification-main">
                        <div class="classification-header">
                            <h3>Stellar Classification Tool</h3>
                            <p class="classification-subtitle">Enter stellar parameters to determine spectral classification</p>
                        </div>
                        <div class="classification-inputs">
                            <div class="input-group">
                                <label for="temperature-input">Temperature (Kelvin)</label>
                                <input type="number" id="temperature-input" placeholder="e.g., 23939" min="0" step="1">
                            </div>
                            <div class="input-group">
                                <label for="luminosity-class">Luminosity Class / White Dwarf Type</label>
                                <select id="luminosity-class">
                                    <option value="">Select classification type</option>
                                    <optgroup label="Luminosity Classes">
                                        <option value="Ia">Ia - Bright Supergiant</option>
                                        <option value="Ib">Ib - Supergiant</option>
                                        <option value="II">II - Bright Giant</option>
                                        <option value="III">III - Giant</option>
                                        <option value="IV">IV - Subgiant</option>
                                        <option value="V">V - Main Sequence (Dwarf)</option>
                                    </optgroup>
                                    <optgroup label="White Dwarf Types">
                                        <option value="DA">DA - Hydrogen-rich</option>
                                        <option value="DB">DB - Helium-rich</option>
                                        <option value="DC">DC - Featureless</option>
                                        <option value="DO">DO - Ionized helium</option>
                                        <option value="DQ">DQ - Carbon features</option>
                                        <option value="DZ">DZ - Metal features</option>
                                        <option value="DX">DX - Unclear features</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div class="input-group checkbox-group">
                                <label>
                                    <input type="checkbox" id="protostar-checkbox">
                                    Is a protostar (YSO)
                                </label>
                            </div>
                            <button id="classify-btn" class="btn btn-primary">Classify Star</button>
                        </div>
                        <div id="classification-result" class="classification-result"></div>
                    </div>
                    <div class="classification-reference">
                        <h4>Classification Reference</h4>
                        <div class="reference-section">
                            <h5>Harvard Classes</h5>
                            <ul class="reference-list">
                                <li><strong>O:</strong> ‚â•33,000 K</li>
                                <li><strong>B:</strong> 10,000-33,000 K</li>
                                <li><strong>A:</strong> 7,500-10,000 K</li>
                                <li><strong>F:</strong> 6,000-7,500 K</li>
                                <li><strong>G:</strong> 5,200-6,000 K</li>
                                <li><strong>K:</strong> 3,700-5,200 K</li>
                                <li><strong>M:</strong> 2,400-3,700 K</li>
                                <li><strong>L:</strong> 1,300-2,400 K</li>
                                <li><strong>T:</strong> 700-1,300 K</li>
                                <li><strong>Y:</strong> &lt;700 K</li>
                            </ul>
                        </div>
                        <div class="reference-section">
                            <h5>White Dwarf Types</h5>
                            <ul class="reference-list">
                                <li><strong>DA:</strong> Hydrogen-rich</li>
                                <li><strong>DB:</strong> Helium-rich</li>
                                <li><strong>DC:</strong> Featureless</li>
                                <li><strong>DO:</strong> Ionized helium</li>
                                <li><strong>DQ:</strong> Carbon features</li>
                                <li><strong>DZ:</strong> Metal features</li>
                                <li><strong>DX:</strong> Unclear features</li>
                            </ul>
                        </div>
                        <div class="reference-section">
                            <h5>YSO Classes</h5>
                            <ul class="reference-list">
                                <li><strong>Class 0/I:</strong> Protostars</li>
                                <li><strong>Class II:</strong> Pre-main sequence</li>
                                <li><strong>Class III:</strong> Young stars</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Desmos API -->
    <!-- Using demo key for development. For production, get your own API key from Desmos -->
    <!-- Replace the apiKey parameter below with your own key (contact info@desmos.com) -->
    <script src="https://www.desmos.com/api/v1.7/calculator.js?apiKey=0b5490317d764f8f810b5195b435a878"></script>
    <script src="scripts/formulas.js"></script>
    <script src="scripts/calculator.js"></script>
    <script src="scripts/unitConverter.js"></script>
    <script src="scripts/expressionParser.js"></script>
    <script src="scripts/graphManager.js"></script>
    <script src="scripts/classification.js"></script>
    <script src="scripts/ui.js"></script>
</body>
</html>

